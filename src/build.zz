using <stdio.h>::{ stdout, fclose }
using <stdlib.h>::{ exit, system }
using project
using string
using log
using mem

export macro init() {
  new current_project = project::current();
  new+4096 command = string::make();

  command.format("make -C %s", current_project.path.cstr());

  log::info("will execute %s", command.cstr());

  fclose(stdout);
  exit(system(command.cstr()));
}
